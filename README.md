# loan_simulator

## 概要

年間の収入、支出を算出し、将来いくら手元に残るか計算するアプリです。
インフレ率、投資リターンも考慮します。

## 入力項目

### 基本項目

- シミュレーション開始時の年齢
- インフレ率: 例（1.02
- 投資名目リターン: 例（1.07
- リスク（標準偏差）
- 株売却時の税率: 例（1.1
- 仮想通貨売却時の税率: 例（1.3
- 現金保有の上限金額（この金額を上回る場合、株に上乗せする）
- 現金保有の下限金額（この金額を下回る場合、仮想通貨または株から取り崩す）
- 現金が加減を下回った場合、先に取り崩す金融商品（仮想通貨または株）
- 仮想通貨保有の下限金額（この金額を下回る場合、株から取り崩す）
- 株保有の下限金額（この金額を下回る場合、仮想通貨から取り崩す）
- 仕事をリタイアする年齢
- ローン年数
- 年間医療・介護費が発生する年齢
- 娯楽費が減少し始める年齢

### 資産初期値

- 株保有額: 例（125,000,000
- 仮想通貨保有額: 例（50,000,000
- 現金: 例（50,000,000

### 年間支出項目

- 生活費: 例（3,000,000
- 娯楽費: 例（1,000,000
- 住宅維持費: 例（600,000
- 医療・介護費: 例（750,000
- 住宅ローン: 例（210,000

### 年間収入項目

- 給与所得: 例（4,500,000
- 不動産所得: 例（1,000,000

### モンテカルロシミュレーション項目

- シミュレーション回数

## 運用ルール

- 収入の合計から支出の合計を引き、現金に反映する
  - 収支がプラスの場合
    - 現金が規定の金額（例 20,000,000）を上回ったら、株に上乗せする
  - 収支がマイナスの場合
    - 現金残高が下限 例（15,000,000）を下回った場合、仮想通貨または株から取り崩す（設定で変更可）
      - 取り崩す際は規定の税率（例 30%）を上乗せする
    - 仮想通貨または株どちらかが加減を下回った場合、もう一方から取り崩す
    - 株も仮想通貨も下限を下回った場合、現金から取り崩す
    - 現金はマイナスを許容する
- 75歳からは娯楽費を毎年10%ずつ削減する
- 75歳からは医療費・介護費が支出に加わる。それまでは0とする
- インフレは、仮想通貨、生活費、娯楽費、住宅維持費、医療・介護費、不動産所得に毎年かかる
- 給与所得は増えずに設定年齢まで毎年もらうものとする

## 表示項目

年を行、以下項目を列として100歳まで表示する

- 年齢
- 資産額中央値
- 上位10%
- 下位10%

### グラフ

以下項目を縦軸を金額、横軸を年として推移を棒グラフで表示する

- 年齢
- 資産額中央値
- 上位10%
- 下位10%

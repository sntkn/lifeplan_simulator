// S&P500の年次リターン率（1994-2023年の30年間）
// 配当込みの実質リターン
export const sp500Returns = [
  0.0131,  // 1994
  0.3756,  // 1995
  0.2296,  // 1996
  0.3336,  // 1997
  0.2858,  // 1998
  0.2104,  // 1999
  -0.0910, // 2000
  -0.1189, // 2001
  -0.2210, // 2002
  0.2868,  // 2003
  0.1088,  // 2004
  0.0491,  // 2005
  0.1579,  // 2006
  0.0549,  // 2007
  -0.3700, // 2008
  0.2646,  // 2009
  0.1506,  // 2010
  0.0211,  // 2011
  0.1600,  // 2012
  0.3239,  // 2013
  0.1369,  // 2014
  0.0138,  // 2015
  0.1196,  // 2016
  0.2183,  // 2017
  -0.0438, // 2018
  0.3157,  // 2019
  0.1840,  // 2020
  0.2889,  // 2021
  -0.1825, // 2022
  0.2626,  // 2023
];

// 日経平均の年次リターン率（1994-2023年の30年間）
// 配当込みの実質リターン
export const nikkeiReturns = [
  0.1323,  // 1994
  0.0037,  // 1995
  -0.0326, // 1996
  -0.2138, // 1997
  -0.0954, // 1998
  0.3677,  // 1999
  -0.2741, // 2000
  -0.2384, // 2001
  -0.1888, // 2002
  0.2441,  // 2003
  0.0727,  // 2004
  0.4005,  // 2005
  0.0069,  // 2006
  -0.1125, // 2007
  -0.4219, // 2008
  0.1905,  // 2009
  -0.0300, // 2010
  -0.1703, // 2011
  0.2288,  // 2012
  0.5651,  // 2013
  -0.0891, // 2014
  0.0915,  // 2015
  0.0019,  // 2016
  0.1940,  // 2017
  -0.1201, // 2018
  0.1818,  // 2019
  0.1607,  // 2020
  0.0478,  // 2021
  -0.0931, // 2022
  0.2836,  // 2023
];

// 全世界株式の年次リターン率（MSCI ACWI、1994-2023年の30年間）
// 配当込みの実質リターン（USD建て）
export const worldStockReturns = [
  0.0580,  // 1994
  0.2106,  // 1995
  0.1398,  // 1996
  0.1607,  // 1997
  0.2486,  // 1998
  0.2534,  // 1999
  -0.1298, // 2000
  -0.1649, // 2001
  -0.1946, // 2002
  0.3386,  // 2003
  0.1506,  // 2004
  0.1006,  // 2005
  0.2034,  // 2006
  0.1117,  // 2007
  -0.4196, // 2008
  0.3486,  // 2009
  0.1267,  // 2010
  -0.0711, // 2011
  0.1598,  // 2012
  0.2270,  // 2013
  0.0411,  // 2014
  -0.0236, // 2015
  0.0754,  // 2016
  0.2398,  // 2017
  -0.0942, // 2018
  0.2665,  // 2019
  0.1640,  // 2020
  0.1854,  // 2021
  -0.1813, // 2022
  0.2207,  // 2023
];

// 日本のインフレ率（消費者物価指数の前年比、1994-2023年）
export const japanInflationRates = [
  0.007,   // 1994
  -0.001,  // 1995
  0.001,   // 1996
  0.018,   // 1997
  0.007,   // 1998
  -0.003,  // 1999
  -0.007,  // 2000
  -0.007,  // 2001
  -0.009,  // 2002
  -0.003,  // 2003
  0.000,   // 2004
  -0.003,  // 2005
  0.002,   // 2006
  0.001,   // 2007
  0.014,   // 2008
  -0.014,  // 2009
  -0.007,  // 2010
  -0.003,  // 2011
  0.000,   // 2012
  0.004,   // 2013
  0.027,   // 2014
  0.008,   // 2015
  -0.001,  // 2016
  0.005,   // 2017
  0.010,   // 2018
  0.005,   // 2019
  0.000,   // 2020
  -0.002,  // 2021
  0.024,   // 2022
  0.032,   // 2023
];

// アメリカのインフレ率（CPI前年比、1994-2023年）
export const usInflationRates = [
  0.026,   // 1994
  0.028,   // 1995
  0.030,   // 1996
  0.023,   // 1997
  0.016,   // 1998
  0.022,   // 1999
  0.034,   // 2000
  0.028,   // 2001
  0.016,   // 2002
  0.023,   // 2003
  0.027,   // 2004
  0.034,   // 2005
  0.032,   // 2006
  0.029,   // 2007
  0.038,   // 2008
  -0.004,  // 2009
  0.016,   // 2010
  0.031,   // 2011
  0.021,   // 2012
  0.015,   // 2013
  0.001,   // 2014
  0.001,   // 2015
  0.013,   // 2016
  0.021,   // 2017
  0.024,   // 2018
  0.018,   // 2019
  0.012,   // 2020
  0.047,   // 2021
  0.080,   // 2022
  0.041,   // 2023
];

// 世界平均インフレ率（IMF推計、1994-2023年）
export const worldInflationRates = [
  0.035,   // 1994
  0.025,   // 1995
  0.024,   // 1996
  0.022,   // 1997
  0.018,   // 1998
  0.019,   // 1999
  0.025,   // 2000
  0.024,   // 2001
  0.020,   // 2002
  0.023,   // 2003
  0.026,   // 2004
  0.030,   // 2005
  0.032,   // 2006
  0.035,   // 2007
  0.060,   // 2008
  0.005,   // 2009
  0.032,   // 2010
  0.045,   // 2011
  0.038,   // 2012
  0.032,   // 2013
  0.028,   // 2014
  0.025,   // 2015
  0.022,   // 2016
  0.028,   // 2017
  0.032,   // 2018
  0.030,   // 2019
  0.025,   // 2020
  0.045,   // 2021
  0.085,   // 2022
  0.065,   // 2023
];

// 仮想通貨のリターン（ビットコイン、2014-2023年の10年間）
// 2014年以前は株式リターンを使用（仮想通貨が存在しなかったため）
export const cryptoReturns = [
  0.0131,  // 1994 - 株式リターンを使用
  0.3756,  // 1995 - 株式リターンを使用
  0.2296,  // 1996 - 株式リターンを使用
  0.3336,  // 1997 - 株式リターンを使用
  0.2858,  // 1998 - 株式リターンを使用
  0.2104,  // 1999 - 株式リターンを使用
  -0.0910, // 2000 - 株式リターンを使用
  -0.1189, // 2001 - 株式リターンを使用
  -0.2210, // 2002 - 株式リターンを使用
  0.2868,  // 2003 - 株式リターンを使用
  0.1088,  // 2004 - 株式リターンを使用
  0.0491,  // 2005 - 株式リターンを使用
  0.1579,  // 2006 - 株式リターンを使用
  0.0549,  // 2007 - 株式リターンを使用
  -0.3700, // 2008 - 株式リターンを使用
  0.2646,  // 2009 - 株式リターンを使用
  0.1506,  // 2010 - 株式リターンを使用
  0.0211,  // 2011 - 株式リターンを使用
  0.0160,  // 2012 - 株式リターンを使用
  0.3239,  // 2013 - 株式リターンを使用
  -0.5817, // 2014 - ビットコイン実データ
  0.3533,  // 2015 - ビットコイン実データ
  1.2500,  // 2016 - ビットコイン実データ
  1.3318,  // 2017 - ビットコイン実データ
  -0.7269, // 2018 - ビットコイン実データ
  0.8700,  // 2019 - ビットコイン実データ
  3.0017,  // 2020 - ビットコイン実データ
  0.5973,  // 2021 - ビットコイン実データ
  -0.6426, // 2022 - ビットコイン実データ
  1.5648,  // 2023 - ビットコイン実データ
];

// 仮想通貨の実データが利用可能な年（2014年以降）
// const cryptoDataStartIndex = 20; // 1994年から数えて20番目

export const historicalYears = Array.from({ length: 30 }, (_, i) => 1994 + i);

// ヒストリカルデータの期間定数
export const HISTORICAL_DATA_LENGTH = historicalYears.length; // 30年間
export const MAX_START_YEARS = 30; // 最大開始年パターン数（全ヒストリカルデータを活用）
export const OPTIMAL_PATTERN_COUNT = 30; // 推奨パターン数（統計的精度を最大化）

// データ選択用の型
export type InflationRegion = 'japan' | 'us' | 'world';
export type StockRegion = 'sp500' | 'nikkei' | 'world';

// インフレ率データの取得
export const getInflationData = (region: InflationRegion): number[] => {
  switch (region) {
    case 'japan': return japanInflationRates;
    case 'us': return usInflationRates;
    case 'world': return worldInflationRates;
    default: return japanInflationRates;
  }
};

// 株式リターンデータの取得
export const getStockData = (region: StockRegion): number[] => {
  switch (region) {
    case 'sp500': return sp500Returns;
    case 'nikkei': return nikkeiReturns;
    case 'world': return worldStockReturns;
    default: return sp500Returns;
  }
};

// オプション用のデータ
export const stockOptions = [
  { value: 'sp500' as StockRegion, label: 'S&P500（アメリカ）' },
  { value: 'nikkei' as StockRegion, label: '日経平均（日本）' },
  { value: 'world' as StockRegion, label: '全世界株式' }
];

export const inflationOptions = [
  { value: 'japan' as InflationRegion, label: '日本' },
  { value: 'us' as InflationRegion, label: 'アメリカ' },
  { value: 'world' as InflationRegion, label: '世界平均' }
];

// シミュレーション期間の制限チェック（循環データ対応）
export const validateSimulationPeriod = (startAge: number, endAge: number) => {
  const simulationPeriod = endAge - startAge;

  // 30年を超える場合でも循環データを使用するため制限を緩和
  // ただし、あまりに長期間（例：100年以上）は現実的でないため上限を設定
  const maxReasonablePeriod = 100;

  if (simulationPeriod > maxReasonablePeriod) {
    return {
      isValid: false,
      maxEndAge: startAge + maxReasonablePeriod,
      message: `シミュレーション期間は最大${maxReasonablePeriod}年間です。終了年齢を${startAge + maxReasonablePeriod}歳以下に設定してください。`
    };
  }

  return {
    isValid: true,
    maxEndAge: endAge,
    message: simulationPeriod > historicalYears.length
      ? `${simulationPeriod}年間のシミュレーションでは、30年分のヒストリカルデータを循環使用します。`
      : ''
  };
};